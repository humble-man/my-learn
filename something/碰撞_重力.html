<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			.box {
				width: 100px;
				height: 100px;
				background: red;
				position: absolute;
			}
		</style>
	</head>

	<body>
		<input type="button" value="开始运动" onclick="toMove()" />
		<div class="box" id="box"></div>

		<script type="text/javascript">
			var oDiv = document.getElementById('box');
			
			//设定横纵向的速度
			var isSpeedX = 10;
			var isSpeedY = 10;

			function toMove() {

				setInterval(function() {
					
					//纵向速度逐渐增加(重力)
					isSpeedY+=2;
					
					//物体的偏移值  (物体当前的上和左距离 + 当前纵横的速度)
					var l = oDiv.offsetLeft + isSpeedX;
					var t = oDiv.offsetTop + isSpeedY;
					
					//判断物体是否触碰上下边界  触碰边界改变速度正负值  改变物体的运动方向
					if(t >= document.documentElement.clientHeight - oDiv.offsetHeight) {
						isSpeedY *= -0.7;
						isSpeedX *= 0.7;
						t = document.documentElement.clientHeight - oDiv.offsetHeight;
					} else if(t <= 0) {
						isSpeedY *= -0.7;
						isSpeedX *= 0.7;
						t = 0;
					}
					
					
					//判断物体是否触碰左右边界  触碰边界改变速度正负值  改变物体的运动方向
					if(l > document.documentElement.clientWidth - oDiv.offsetWidth) {
						isSpeedX *= -0.7;
						l = document.documentElement.clientWidth - oDiv.offsetWidth;
					} else if(l <= 0) {
						isSpeedX *= -0.7;
						l = 0;
					}
					
					
					//判断横纵速度是否足够小  足够小 则直接设定为0 
					if(Math.abs(isSpeedX)<1){
						isSpeedX = 0;
					}
					if(Math.abs(isSpeedY)<1){
						isSpeedY = 0;
					}
					
					oDiv.style.left = l + 'px';
					oDiv.style.top = t + 'px';
				}, 30);
			}
		</script>
	</body>

</html>